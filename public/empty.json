{
	"paused": false,
	"id": "ui",
	"reference": "",
	"author": "Total.js",
	"group": "",
	"icon": "ti ti-pencil-paintbrush",
	"color": "#4285F4",
	"version": "1",
	"readme": "",
	"url": "https://www.totaljs.com",
	"name": "UI",
	"components": {
		"uiend": "<script total>\n\n\texports.id = 'uiend';\n\texports.name = 'End';\n\texports.icon = 'ti ti-ban';\n\texports.color = '#E73323';\n\texports.author = 'Peter Širka';\n\texports.version = '1';\n\texports.group = 'Navigation';\n\texports.config = {};\n\texports.inputs = [{ id: 'end', name: 'End' }];\n\n\texports.make = function(instance, config) {\n\n\t\tinstance.message = function($) {\n\n\t\t\tif (!$.refs.controller) {\n\t\t\t\t$.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar meta = $.refs.uistudio || {};\n\t\t\tmeta.parent = meta.id;\n\t\t\tmeta.id = instance.id;\n\t\t\tmeta.data = $.data;\n\t\t\tmeta.input = $.input;\n\t\t\tmeta.output = undefined;\n\t\t\t$.refs.controller.json(meta);\n\t\t\t$.refs.controller = null;\n\t\t\t$.destroy();\n\t\t};\n\n\t};\n\n</script>\n\n<readme>\nIn this component, the UI design flow ends without pre-rendering UI content.\n</readme>\n\n<body>\n\t<header>\n\t\t<i class=\"ICON\"></i>Navigation: NAME\n\t</header>\n</body>",
		"uistudiostart": "<script total>\n\n\texports.id = 'uistudiostart';\n\texports.name = 'Start';\n\texports.icon = 'ti ti-start';\n\texports.color = '#83C83C';\n\texports.author = 'Peter Širka';\n\texports.version = '1';\n\texports.group = 'Navigation';\n\texports.config = { icon: 'ti ti-rocket', name: 'App name', sortindex: 1, menu: true };\n\texports.outputs = [{ id: 'start', name: 'Start' }, { id: 'logger', name: 'Logger' }];\n\texports.meta = { remove: false };\n\n\texports.make = function(instance, config) {\n\n\t\tvar next = function(ctrl) {\n\n\t\t\tvar body = ctrl.body;\n\t\t\tvar meta = {};\n\t\t\tvar next;\n\t\t\tvar log;\n\n\t\t\tmeta.id = body.id || '';\n\t\t\tmeta.parent = body.parent;\n\t\t\tmeta.query = body.query || {};\n\t\t\tmeta.output = body.output || '';\n\t\t\tmeta.user = ctrl.user;\n\t\t\tmeta.ip = ctrl.ip;\n\t\t\tmeta.ua = ctrl.ua;\n\n\t\t\tvar payload = body.data || {};\n\n\t\t\tif (instance.connections.logger) {\n\n\t\t\t\tlog = CLONE(meta);\n\n\t\t\t\tif (meta.id) {\n\t\t\t\t\tnext = instance.main.meta.flow[meta.id];\n\t\t\t\t\tif (next)\n\t\t\t\t\t\tlog.name = next.module.name;\n\t\t\t\t}\n\n\t\t\t\tlog.data = CLONE(payload);\n\t\t\t\tinstance.newmessage(log).send('logger');\n\t\t\t}\n\n\t\t\tif (meta.id) {\n\n\t\t\t\tif (!next)\n\t\t\t\t\tnext = instance.main.meta.flow[meta.id];\n\n\t\t\t\tif (next && next.module.uistudio) {\n\t\t\t\t\tvar msg = next.newmessage(payload);\n\t\t\t\t\tmsg.refs.controller = ctrl;\n\t\t\t\t\tmsg.refs.uistudio = meta;\n\t\t\t\t\tvar output = meta.output;\n\t\t\t\t\tmeta.output = undefined;\n\t\t\t\t\tmsg.send(output);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar msg = instance.newmessage(payload);\n\t\t\tmsg.refs.controller = ctrl;\n\t\t\tmsg.refs.uistudio = meta;\n\t\t\tmsg.send('start');\n\t\t};\n\n\t\tvar route = ROUTE('+POST /ui{0}/'.format(instance.id), function() {\n\t\t\tvar ctrl = this;\n\t\t\tnext(ctrl);\n\t\t});\n\n\t\tinstance.close = function() {\n\t\t\troute && route.remove();\n\t\t\troute = null;\n\t\t};\n\n\t};\n\n</script>\n\n<readme>\nThe component triggers the design process for UI apps designed with UI Studio.\n</readme>\n\n<style>\n\t.CLASS { max-width: none !important; }\n\t.CLASS header > ui-bind > div { background-color: var(--color); border-radius: var(--radius); color: #FFF; padding: 3px 5px; }\n\t.CLASS header > ui-bind b { float: right; font-size: 11px; }\n\t.CLASS footer { padding: 10px; font-size: 12px; overflow-wrap: break-word; }\n</style>\n\n<settings>\n\t<div class=\"padding\">\n\t\t<div class=\"grid-3\">\n\t\t\t<div class=\"m\">\n\t\t\t\t<ui-component name=\"input\" path=\"?.name\" config=\"required:1\">Name</ui-component>\n\t\t\t</div>\n\t\t\t<div class=\"m\">\n\t\t\t\t<ui-component name=\"input\" path=\"?.icon\" config=\"type:icon;required:1\">Icon</ui-component>\n\t\t\t</div>\n\t\t\t<div class=\"m\">\n\t\t\t\t<ui-component name=\"input\" path=\"?.sortindex\" config=\"type:number;required:1\">Sort index</ui-component>\n\t\t\t</div>\n\t\t</div>\n\t\t<hr />\n\t\t<ui-component name=\"input\" path=\"?.menu\" config=\"type:checkbox\" default=\"true\">Show in the menu</ui-component>\n\t</div>\n</settings>\n\n<body>\n\t<header>\n\t\t<ui-bind path=\"CONFIG\" config=\"template\">\n\t\t\t<script type=\"text/html\">\n\t\t\t\t<div{{ if !value.menu }} style=\"background-color:#479798\"{{ fi }}>\n\t\t\t\t\t<b>#{{ value.sortindex }}</b><i class=\"{{ value.icon }}\"></i>{{ value.name }}\n\t\t\t\t</div>\n\t\t\t</script>\n\t\t</ui-bind>\n\t</header>\n</body>"
	},
	"design": {
	},
	"variables": {},
	"sources": {},
	"proxypath": "/stream/",
	"origin": "",
	"dtcreated": null,
	"import": "/definitions/db.js,flow-ui.js,flow-db.js",
	"size": -1
}